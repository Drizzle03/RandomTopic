<!DOCTYPE html>
<html lang="ko">
<head>
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-T0RYQKV92Z"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', 'G-T0RYQKV92Z');
    </script>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta name="description" content="스몰토크 주제추천 사이트 젠틀톡에서 다양한 대화 주제를 추천받아보세요. 직장, 모임, 데이트 등 모든 상황에서 활용할 수 있는 대화 주제 제공">
    <meta name="keywords" content="스몰토크, 대화주제, 대화소재, 스몰토크 주제추천, 대화 주제추천, 스몰토크 도우미, 대화 소재, 젠틀톡">
    <meta name="author" content="젠틀톡">
    <meta name="robots" content="index, follow">
    <title>🎩 젠틀톡 - 스몰토크 주제추천 사이트</title>
    <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>💭</text></svg>">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/orioncactus/pretendard/dist/web/static/pretendard.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <link rel="stylesheet" href="./static/style.css">
    <meta property="og:title" content="젠틀톡 - 스몰토크 주제추천 사이트" />
    <meta property="og:description" content="직장, 모임, 데이트 등 다양한 상황에서 활용할 수 있는 스몰토크 주제를 추천받아보세요!" />
    <meta property="og:image" content="https://gentletalk.site/images/card.png" />
    <meta property="og:url" content="https://gentletalk.site/" />
    <meta property="og:type" content="website" />
    
    <!-- 네이버 서치어드바이저 인증 -->
    <meta name="naver-site-verification" content="cab09137b065d8a79035402b46332940730ea886" />
    
    <!-- SEO 메타 태그 URL 업데이트 -->
    <link rel="canonical" href="https://gentletalk.site/" />
    
    <!-- UTM 트래킹 스크립트 추가 -->
    <script>
        window.addEventListener('load', function() {
            // 레퍼러 정보 가져오기
            const referrer = document.referrer;
            
            // 현재 URL 파라미터 가져오기
            const currentUrl = new URL(window.location.href);
            const urlParams = currentUrl.searchParams;
            
            // 이미 UTM 파라미터가 있다면 건너뛰기
            if (urlParams.get('utm_source')) {
                return;
            }
            
            // 레퍼러 도메인 추출
            let referrerDomain = '';
            try {
                referrerDomain = new URL(referrer).hostname;
            } catch (e) {
                referrerDomain = '';
            }
            
            // UTM 파라미터 설정
            let utmParams = {};
            
            // 소셜 미디어
            if (referrerDomain.includes('instagram.com')) {
                utmParams = {
                    utm_source: 'instagram',
                    utm_medium: 'social',
                    utm_campaign: 'organic'
                };
            } else if (referrerDomain.includes('facebook.com')) {
                utmParams = {
                    utm_source: 'facebook',
                    utm_medium: 'social',
                    utm_campaign: 'organic'
                };
            }
            // 검색엔진
            else if (referrerDomain.includes('google.')) {
                utmParams = {
                    utm_source: 'google',
                    utm_medium: 'organic',
                    utm_campaign: 'search'
                };
            } else if (referrerDomain.includes('naver.com')) {
                utmParams = {
                    utm_source: 'naver',
                    utm_medium: 'organic',
                    utm_campaign: 'search'
                };
            }
            // 블로그
            else if (referrerDomain.includes('blog.naver.com')) {
                utmParams = {
                    utm_source: 'naver',
                    utm_medium: 'blog',
                    utm_campaign: 'organic'
                };
            } else if (referrerDomain.includes('tistory.com')) {
                utmParams = {
                    utm_source: 'tistory',
                    utm_medium: 'blog',
                    utm_campaign: 'organic'
                };
            }
            // 직접 접속
            else if (!referrerDomain) {
                utmParams = {
                    utm_source: 'direct',
                    utm_medium: 'none',
                    utm_campaign: 'direct'
                };
            }
            // 기타 레퍼러
            else {
                utmParams = {
                    utm_source: referrerDomain,
                    utm_medium: 'referral',
                    utm_campaign: 'organic'
                };
            }
            
            // UTM 파라미터가 설정되었다면 GA에만 이벤트 전송
            if (Object.keys(utmParams).length > 0) {
                // Google Analytics에 이벤트 전송
                if (typeof gtag === 'function') {
                    gtag('event', 'page_view', {
                        page_location: window.location.href,
                        page_referrer: referrer
                    });
                }
            }
        });
    </script>
    
    <script>
        // 브라우저 언어 감지 및 자동 번역 제안
        window.addEventListener('load', function() {
            const userLang = navigator.language || navigator.userLanguage;
            const langCode = userLang.split('-')[0];
            
            // 한국어가 아닌 경우 자동 번역 제안
            if (langCode !== 'ko') {
                document.documentElement.lang = 'ko';
                document.documentElement.setAttribute('translate', 'yes');
            }
        });
    </script>
    
    <style>
        /* 공유 버튼 스타일 (인스타그램만 남김) */
        .share-buttons {
            display: none;
            gap: 10px;
            justify-content: center;
            margin-top: 20px;
            opacity: 0;
            transform: translateY(10px);
            transition: opacity 0.3s, transform 0.3s;
        }
        
        .share-buttons.visible {
            display: flex;
            opacity: 1;
            transform: translateY(0);
        }
        
        .share-button {
            padding: 8px 16px;
            border-radius: 20px;
            border: none;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 6px;
            font-size: 14px;
            transition: opacity 0.2s;
            -webkit-tap-highlight-color: transparent;
        }
        
        .share-button:active {
            opacity: 0.7;
        }
        
        .instagram-share {
            background: linear-gradient(45deg, #f09433, #e6683c, #dc2743, #cc2366, #bc1888);
            color: white;
        }
    </style>
</head>
<body>
    <!-- 구조화된 데이터 추가 -->
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "WebApplication",
        "name": "젠틀톡",
        "description": "스몰토크 주제추천 사이트",
        "url": "https://gentletalk.site/",
        "applicationCategory": "대화/커뮤니케이션",
        "creator": {
            "@type": "Person",
            "name": "new._.nya_workspace"
        },
        "offers": {
            "@type": "Offer",
            "price": "0",
            "priceCurrency": "KRW"
        },
        "aggregateRating": {
            "@type": "AggregateRating",
            "ratingValue": "4.8",
            "ratingCount": "100"
        }
    }
    </script>

    <!-- 메인 콘텐츠 시맨틱 마크업 개선 -->
    <main class="container">
        <header>
            <h1 class="main-title">✨스몰토크 주제추천 사이트 젠틀톡</h1>
        </header>
        
        <div class="cards-container">
            <div class="card card-side">
                <div class="card-inner">
                    <div class="card-back">
                        <div class="card-pattern"></div>
                    </div>
                </div>
            </div>
            
            <div class="card card-main">
                <div class="card-inner">
                    <div class="card-front">
                        <div class="card-content">
                            <span class="card-title"💭> 오늘의 스몰토크 주제</span>
                            <p id="topic">새로운 주제를 받아보세요 👋</p>
                            <span class="card-emoji">🗣️</span>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="card card-side">
                <div class="card-inner">
                    <div class="card-back">
                        <div class="card-pattern"></div>
                    </div>
                </div>
            </div>
        </div>
        <div class="button-container">
            <button id="refresh-btn">
                <i class="fas fa-sync-alt"></i>
                <span>새로운 주제 뽑기</span>
            </button>
            
            <!-- 인스타그램 공유 버튼만 남김 -->
            <div class="share-buttons">
                <button class="share-button instagram-share" onclick="shareToInstagram()">
                    <i class="fab fa-instagram"></i>
                    인스타그램 스토리
                </button>
            </div>
        </div>
    </main>
    <a href="https://forms.gle/jN2c432nfpzDh84cA" id="feedback-btn" target="_blank" rel="noopener noreferrer">
        📬 이용 건의 창구
    </a>
    <footer class="footer">
        <p class="version">v1.1.0</p>
        <a href="https://instagram.com/new._.nya_workspace" target="_blank" rel="noopener noreferrer" class="developer-link">
            @new._.nya_workspace
        </a>
    </footer>
    <script src="./static/topics.js"></script>
    <script src="./static/script.js"></script>
    
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const refreshBtn = document.getElementById('refresh-btn');
            const shareButtons = document.querySelector('.share-buttons');
            const topicElement = document.getElementById('topic');
            
            // 초기 상태 설정
            shareButtons.style.display = 'none';
            
            // 새로운 주제 생성 시 공유 버튼 표시
            refreshBtn.addEventListener('click', function() {
                generateNewTopic();
                
                setTimeout(() => {
                    shareButtons.style.display = 'flex';
                    requestAnimationFrame(() => {
                        shareButtons.classList.add('visible');
                    });
                }, 300);
            });
            
            function generateNewTopic() {
                const randomTopic = topics[Math.floor(Math.random() * topics.length)];
                topicElement.textContent = randomTopic;
            }
        });
        
        // 인스타그램 공유 함수
        function shareToInstagram() {
            const topic = document.getElementById('topic').textContent;
            const shareUrl = addUtmToShareUrl('instagram');
            
            if (/Android|iPhone|iPad|iPod/i.test(navigator.userAgent)) {
                window.location.href = `instagram://story-camera`;
                
                setTimeout(() => {
                    window.location.href = `https://www.instagram.com/`;
                }, 2000);
            } else {
                window.open('https://www.instagram.com/', '_blank');
            }
        }
        
        // UTM 파라미터 추가
        function addUtmToShareUrl(platform) {
            const baseUrl = 'https://gentletalk.site';
            return `${baseUrl}?utm_source=${platform}&utm_medium=share&utm_campaign=topic_share`;
        }
    </script>
</body>
</html> 

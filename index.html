<!DOCTYPE html>
<html lang="ko">
<head>
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-T0RYQKV92Z"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', 'G-T0RYQKV92Z');
    </script>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta name="description" content="스몰토크 주제추천 사이트 젠틀톡에서 다양한 대화 주제를 추천받아보세요. 직장, 모임, 데이트 등 모든 상황에서 활용할 수 있는 대화 주제 제공">
    <meta name="keywords" content="스몰토크, 대화주제, 대화소재, 스몰토크 주제추천, 대화 주제추천, 스몰토크 도우미, 대화 소재, 젠틀톡">
    <meta name="author" content="젠틀톡">
    <meta name="robots" content="index, follow">
    <title>🎩 젠틀톡 - 스몰토크 주제추천 사이트</title>
    <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>💭</text></svg>">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/orioncactus/pretendard/dist/web/static/pretendard.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <link rel="stylesheet" href="./static/style.css">
    <meta property="og:title" content="젠틀톡 - 스몰토크 주제추천 사이트" />
    <meta property="og:description" content="직장, 모임, 데이트 등 다양한 상황에서 활용할 수 있는 스몰토크 주제를 추천받아보세요!" />
    <meta property="og:image" content="https://gentletalk.site/images/card.png" />
    <meta property="og:url" content="https://gentletalk.site/" />
    <meta property="og:type" content="website" />
    
    <!-- Google Translate API 추가 -->
    <script type="text/javascript" src="https://translate.google.com/translate_a/element.js?cb=googleTranslateElementInit"></script>
    
    <script type="text/javascript">
        function googleTranslateElementInit() {
            new google.translate.TranslateElement({
                pageLanguage: 'ko',
                includedLanguages: 'en,ja,zh-CN,vi,th,es,fr,de', // 지원할 언어 코드
                layout: google.translate.TranslateElement.InlineLayout.SIMPLE,
                autoDisplay: false,
                multilanguagePage: true
            }, 'google_translate_element');
        }
        
        // 브라우저 언어 감지 및 자동 번역
        window.addEventListener('load', function() {
            const userLang = navigator.language || navigator.userLanguage;
            const langCode = userLang.split('-')[0]; // 'en-US'에서 'en'만 추출
            
            if (langCode !== 'ko') {
                const intervalId = setInterval(() => {
                    const select = document.querySelector('.goog-te-combo');
                    if (select) {
                        select.value = langCode;
                        select.dispatchEvent(new Event('change'));
                        clearInterval(intervalId);
                    }
                }, 100);
            }
        });
    </script>
    
    <!-- 네이버 서치어드바이저 인증 -->
    <meta name="naver-site-verification" content="cab09137b065d8a79035402b46332940730ea886" />
    
    <!-- SEO 메타 태그 URL 업데이트 -->
    <link rel="canonical" href="https://gentletalk.site/" />
    
    <!-- UTM 트래킹 스크립트 추가 -->
    <script>
        window.addEventListener('load', function() {
            // 레퍼러 정보 가져오기
            const referrer = document.referrer;
            
            // 현재 URL 파라미터 가져오기
            const currentUrl = new URL(window.location.href);
            const urlParams = currentUrl.searchParams;
            
            // 이미 UTM 파라미터가 있다면 건너뛰기
            if (urlParams.get('utm_source')) {
                return;
            }
            
            // 레퍼러 도메인 추출
            let referrerDomain = '';
            try {
                referrerDomain = new URL(referrer).hostname;
            } catch (e) {
                referrerDomain = '';
            }
            
            // UTM 파라미터 설정
            let utmParams = {};
            
            // 소셜 미디어
            if (referrerDomain.includes('instagram.com')) {
                utmParams = {
                    utm_source: 'instagram',
                    utm_medium: 'social',
                    utm_campaign: 'organic'
                };
            } else if (referrerDomain.includes('facebook.com')) {
                utmParams = {
                    utm_source: 'facebook',
                    utm_medium: 'social',
                    utm_campaign: 'organic'
                };
            }
            // 검색엔진
            else if (referrerDomain.includes('google.')) {
                utmParams = {
                    utm_source: 'google',
                    utm_medium: 'organic',
                    utm_campaign: 'search'
                };
            } else if (referrerDomain.includes('naver.com')) {
                utmParams = {
                    utm_source: 'naver',
                    utm_medium: 'organic',
                    utm_campaign: 'search'
                };
            }
            // 블로그
            else if (referrerDomain.includes('blog.naver.com')) {
                utmParams = {
                    utm_source: 'naver',
                    utm_medium: 'blog',
                    utm_campaign: 'organic'
                };
            } else if (referrerDomain.includes('tistory.com')) {
                utmParams = {
                    utm_source: 'tistory',
                    utm_medium: 'blog',
                    utm_campaign: 'organic'
                };
            }
            // 직접 접속
            else if (!referrerDomain) {
                utmParams = {
                    utm_source: 'direct',
                    utm_medium: 'none',
                    utm_campaign: 'direct'
                };
            }
            // 기타 레퍼러
            else {
                utmParams = {
                    utm_source: referrerDomain,
                    utm_medium: 'referral',
                    utm_campaign: 'organic'
                };
            }
            
            // UTM 파라미터가 설정되었다면 GA에만 이벤트 전송
            if (Object.keys(utmParams).length > 0) {
                // Google Analytics에 이벤트 전송
                if (typeof gtag === 'function') {
                    gtag('event', 'page_view', {
                        page_location: window.location.href,
                        page_referrer: referrer
                    });
                }
            }
        });
    </script>
    
    <!-- Google Translate 위젯 스타일 수정 -->
    <style>
        /* 번역 위젯 커스텀 스타일 */
        #google_translate_element {
            position: fixed;
            top: 10px;
            left: 10px;
            z-index: 1000;
            opacity: 0.7;
            transition: opacity 0.3s;
        }
        
        #google_translate_element:hover {
            opacity: 1;
        }
        
        /* 번역 위젯 컨테이너 스타일 */
        .translate-container {
            background: rgba(255, 255, 255, 0.9);
            border-radius: 50%;
            padding: 8px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
            display: flex;
            align-items: center;
            cursor: pointer;
        }
        
        /* 기본 위젯 스타일 숨기기 */
        .goog-te-gadget {
            font-family: 'Pretendard', sans-serif !important;
        }
        
        .goog-te-gadget-simple {
            background: none !important;
            border: none !important;
            padding: 0 !important;
        }
        
        .goog-te-gadget-simple > span > a > span:nth-child(1),
        .goog-te-gadget-simple > span > a > span:nth-child(2) {
            display: none !important;
        }
        
        .goog-te-gadget .goog-te-combo {
            margin: 0 !important;
            padding: 4px !important;
            border: none !important;
            border-radius: 4px !important;
            font-size: 14px !important;
            background: transparent !important;
            color: #333 !important;
            outline: none !important;
        }
        
        /* 모바일 최적화 */
        @media (max-width: 768px) {
            #google_translate_element {
                top: 5px;
                left: 5px;
            }
            
            .translate-container {
                padding: 6px;
            }
            
            .goog-te-gadget .goog-te-combo {
                font-size: 12px !important;
                padding: 2px !important;
            }
        }
        
        /* 번역 아이콘 스타일 */
        .translate-icon {
            width: 20px;
            height: 20px;
            margin-right: 2px;
            opacity: 0.7;
        }
        
        /* 카드 선택 방지 스타일 */
        .card {
            -webkit-user-select: none;  /* Safari */
            -ms-user-select: none;      /* IE 10+ */
            user-select: none;          /* Standard syntax */
            
            -webkit-touch-callout: none;    /* iOS Safari */
            -webkit-tap-highlight-color: transparent; /* 탭 하이라이트 제거 */
        }
        
        /* 카드 내부 콘텐츠도 선택 방지 */
        .card-content, 
        .card-title, 
        .card-front, 
        .card-back,
        .card-pattern {
            -webkit-user-select: none;
            -ms-user-select: none;
            user-select: none;
            -webkit-touch-callout: none;
            -webkit-tap-highlight-color: transparent;
        }
        
        /* 공유 버튼 스타일 */
        .share-buttons {
            display: flex;
            gap: 10px;
            justify-content: center;
            margin-top: 20px;
        }
        
        .share-button {
            padding: 8px 16px;
            border-radius: 20px;
            border: none;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 6px;
            font-size: 14px;
            transition: opacity 0.2s;
            -webkit-tap-highlight-color: transparent;
        }
        
        .share-button:active {
            opacity: 0.7;
        }
        
        .kakao-share {
            background-color: #FEE500;
            color: #000000;
        }
        
        .instagram-share {
            background: linear-gradient(45deg, #f09433, #e6683c, #dc2743, #cc2366, #bc1888);
            color: white;
        }
        
        /* 모바일 최적화 */
        @media (max-width: 768px) {
            .share-buttons {
                gap: 8px;
            }
            
            .share-button {
                padding: 6px 12px;
                font-size: 13px;
            }
        }
    </style>
    
    <!-- 카카오 SDK -->
    <script src="https://t1.kakaocdn.net/kakao_js_sdk/2.6.0/kakao.min.js"></script>
</head>
<body>
    <!-- 구조화된 데이터 추가 -->
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "WebApplication",
        "name": "젠틀톡",
        "description": "스몰토크 주제추천 사이트",
        "url": "https://gentletalk.site/",
        "applicationCategory": "대화/커뮤니케이션",
        "creator": {
            "@type": "Person",
            "name": "new._.nya_workspace"
        },
        "offers": {
            "@type": "Offer",
            "price": "0",
            "priceCurrency": "KRW"
        },
        "aggregateRating": {
            "@type": "AggregateRating",
            "ratingValue": "4.8",
            "ratingCount": "100"
        }
    }
    </script>

    <!-- 메인 콘텐츠 시맨틱 마크업 개선 -->
    <main class="container">
        <header>
            <h1 class="main-title">✨스몰토크 주제추천 사이트 젠틀톡</h1>
        </header>
        
        <div class="cards-container">
            <div class="card card-side">
                <div class="card-inner">
                    <div class="card-back">
                        <div class="card-pattern"></div>
                    </div>
                </div>
            </div>
            
            <div class="card card-main">
                <div class="card-inner">
                    <div class="card-front">
                        <div class="card-content">
                            <span class="card-title"💭> 오늘의 스몰토크 주제</span>
                            <p id="topic">새로운 주제를 받아보세요 👋</p>
                            <span class="card-emoji">🗣️</span>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="card card-side">
                <div class="card-inner">
                    <div class="card-back">
                        <div class="card-pattern"></div>
                    </div>
                </div>
            </div>
        </div>
        <div class="button-container">
            <button id="refresh-btn">
                <i class="fas fa-sync-alt"></i>
                <span>새로운 주제 뽑기</span>
            </button>
            
            <!-- 공유 버튼 추가 -->
            <div class="share-buttons">
                <button class="share-button kakao-share" onclick="shareToKakao()">
                    <img src="https://developers.kakao.com/assets/img/about/logos/kakaolink/kakaolink_btn_small.png" 
                         alt="카카오톡 공유" width="18" height="18">
                    카카오톡 공유
                </button>
                <button class="share-button instagram-share" onclick="shareToInstagram()">
                    <i class="fab fa-instagram"></i>
                    인스타그램 스토리
                </button>
            </div>
        </div>
    </main>
    <a href="https://forms.gle/jN2c432nfpzDh84cA" id="feedback-btn" target="_blank" rel="noopener noreferrer">
        📬 이용 건의 창구
    </a>
    <footer class="footer">
        <p class="version">v1.1.0</p>
        <a href="https://instagram.com/new._.nya_workspace" target="_blank" rel="noopener noreferrer" class="developer-link">
            @new._.nya_workspace
        </a>
    </footer>
    <script src="./static/topics.js"></script>
    <script src="./static/script.js"></script>
    
    <!-- 번역 위젯 컨테이너 수정 -->
    <div id="google_translate_element">
        <div class="translate-container">
            <svg class="translate-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-1 15h2v-2h-2v2zm3.1-7.6c-.1.3-.1.5-.2.7l-.7 1.7h-2.4l-.7-1.7c-.1-.2-.1-.4-.2-.7-.1-.3-.1-.5-.1-.7h-.6c0 .3 0 .6.1.9.1.3.1.5.2.7l1.6 3.8h2.1l1.6-3.8c.1-.2.1-.4.2-.7.1-.3.1-.6.1-.9h-.6c-.1.2-.2.5-.3.7z"/>
            </svg>
        </div>
    </div>
    
    <script>
        // 카카오 SDK 초기화
        Kakao.init('fb7f3c71ccab5fc01de880dec69fe45c');
        
        // 카카오톡 공유 함수
        function shareToKakao() {
            const topic = document.getElementById('topic').textContent;
            const shareUrl = addUtmToShareUrl('kakaotalk');
            
            Kakao.Share.sendDefault({
                objectType: 'feed',
                content: {
                    title: '💭 오늘의 스몰토크 주제',
                    description: topic,
                    imageUrl: 'https://gentletalk.site/images/card.png',
                    link: {
                        mobileWebUrl: shareUrl,
                        webUrl: shareUrl
                    },
                },
                buttons: [
                    {
                        title: '주제 더 보기',
                        link: {
                            mobileWebUrl: shareUrl,
                            webUrl: shareUrl,
                        },
                    },
                ],
            });
        }
        
        // 인스타그램 공유 함수
        function shareToInstagram() {
            const topic = document.getElementById('topic').textContent;
            const shareUrl = addUtmToShareUrl('instagram');
            const encodedText = encodeURIComponent(`💭 오늘의 스몰토크 주제:\n${topic}\n\n더 많은 주제 보기 👉 ${shareUrl}`);
            
            if (/Android|iPhone|iPad|iPod/i.test(navigator.userAgent)) {
                window.location.href = `instagram://story-camera`;
                
                // 인스타그램 앱이 없는 경우를 위한 타임아웃 처리
                setTimeout(() => {
                    window.location.href = `https://www.instagram.com/`;
                }, 2000);
            } else {
                window.open('https://www.instagram.com/', '_blank');
            }
        }
        
        // UTM 파라미터 추가
        function addUtmToShareUrl(platform) {
            const baseUrl = 'https://gentletalk.site';
            return `${baseUrl}?utm_source=${platform}&utm_medium=share&utm_campaign=topic_share`;
        }
    </script>
</body>
</html> 

from flask import Flask, render_template, jsonify
import random

app = Flask(__name__)

# 스몰토크 주제 리스트
smalltalk_topics = [
    # 사기/호구 계열
    "내가 만난 최고의 사기꾼 썰",
    "한 푼도 안 남기고 완전 털린 경험",
    "거의 사기 직전에 모면한 아찔한 썰",
    "의도치 않게 내가 사기꾼 된 썰",
    "피해갈 줄 알았는데 결국 당한 썰",

    # 의외의 경험 계열
    "절대 예상 못할 곳에서 만난 사람",
    "진짜 믿기 힘든 우연의 일치",
    "완전 뜬금없이 터진 인생 반전",
    "아무도 모르는 나만의 숨겨진 장소",
    "평생 한 번뿐인 기회를 잡은 썰",

    # 망한 썰 계열
    "내 인생에서 가장 망했던 순간들",
    "한 순간에 모든 걸 날린 썰",
    "되돌릴 수 없이 망한 선택들",
    "모두가 말리던 그 선택",
    "절대 회복 못할 줄 알았던 상황",

    # 일탈/극한 경험 계열
    "거의 범죄 직전까지 갔던 썰",
    "아무도 모르는 나만의 비밀 일탈",
    "한계를 완전히 넘어버린 순간",
    "절대 하지 말아야 할 짓을 한 썰",
    "후회 없는 그 순간의 무모함",

    # 꿈/상상 계열
    "현실과 너무 다른 내 꿈 썰",
    "꿈에서만 가능할 줄 알았던 경험",
    "너무 리얼해서 놀란 꿈",
    "꿈이 현실이 된 아이러니한 순간",
    "절대 말할 수 없는 나만의 망상",

    # 특별한 만남/경험 계열
    "절대 만날 수 없을 줄 알았던 사람",
    "세상에서 가장 특이한 만남",
    "모두가 믿지 않을 나의 경험",
    "진짜 있을 법하지 않은 상황",
    "너무 황당해서 말도 안 되는 썰",

    # 극한의 상황 계열
    "죽을 뻔한 가장 아찔한 순간",
    "모두가 놀랄 나의 극한 도전",
    "정말 끝났다고 생각했던 순간",
    "천운이 따라준 기적 같은 경험",
    "절대 말할 수 없는 비밀 썰",

    # 기타 파격적 주제
    "법적 한계를 살짝 넘은 썰",
    "모두가 숨기고 싶어하는 경험",
    "절대 공개하지 말아야 할 이야기",
    "너무 충격적인 나의 비밀",
    "모두를 놀라게 할 나만의 썰",

    # 기타 파격적 주제
    "지금 돌아봐도 정말 만족하는 선택",
    "내가 어릴 때 집착했던 의외의 것",
    "내가 누군가를 좋아했던 의외의 이유",
    "눈물나게 고마웠던 일",
    "나의 지인에게 이런 일이 있었다",
    "내가 좋아하는 의외의 브랜드",
    "가장 기억에 남는 학창시절 급식 메뉴",
    "내가 겪은 가장 황당한 택시 기사님 썰",
    "가장 후회되는 충동구매",
    "가장 기억에 남는 소개팅 실패담",
    "내가 경험한 가장 웃긴 오해",
    "가장 민망했던 빵 터진 순간",
    "가장 기억에 남는 술자리 해프닝",
    "가장 황당했던 친구의 거짓말",
    "내가 겪은 가장 웃긴 문화충격",
]



@app.route('/')
def home():
    return render_template('index.html')

@app.route('/get_topic')
def get_topic():
    topic = random.choice(smalltalk_topics)
    return jsonify({'topic': topic})

if __name__ == '__main__':
    app.run(debug=True)
